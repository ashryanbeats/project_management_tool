<!-- New Card template -->

<form ng-submit="addCard(newCard, featureName, board)" class="noMargin" name="newCardForm">
    <div class="modal-header">
        <button type="button" class="close" ng-click="close()">&times;</button>
        <h2 class="modal-title" ng-model="columnName">Add New Card in '{{featureName}}'</h2>
    </div>
    <div class="modal-body">
        <div class="form-group">
            <label class="control-label" for="newCardTitle">Card title</label>

            <div>
                <input type="text" id="newCardTitle" placeholder="Title on a card" ng-model="newCard.title" required
                       focus-me class="cardInputs form-control"/>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label" for="newCardDetails">More details
            </label>

            <div>
                <textarea id="newCardDetails" ng-model="newCard.details" class="cardInputs form-control" rows="7">
                </textarea>
            </div>
        </div>

         <div class='form-group'>
            <div class='input-field col s12'>
            <select class="browser-default" ng-model="assignee">
                <option value='' disabled selected>Assignee</option>
                <option value='{{collaborator.login}}' name='text' id="newCardDetails"  ng-repeat="collaborator in collaborators">{{collaborator.login}}</option>
            </select>
           </div>
        </div>

        <div class='form-group'>
            <label class="control-label" for="newCardDetails">Add Label
                <small>(optional)</small>
            </label>
        </div>
        <div class='form-group'>
            <label class="control-label" for="newCardDetails">Select Existing Label
            </label>
        </div>
         <div class='row'>
            <div class='input-field col s10'>
            <select class="browser-default" ng-model="label">
                <option value='' disabled selected>Select Exisiting Label</option>
                <option value='{{label.name}}' name="text" id="label"  ng-repeat="label in listLabels">{{label.name}}</option>
            </select>
            </div>
                <a ng-click="addLabelToIssue(label)" class="glyphicon glyphicon-plus modalBtn" popover-placement='top' popover="Click to add label" popover-trigger="mouseenter"></a>
            </div>
           <div class="col s2">
        </div>
        <div class='form-group'>
            <label class="control-label" for="newCardDetails">Or Create New Label
            </label>
        </div>
        <div class="row">
            <div class='input-field col s5'>
                <input type='text' id="newCardDetails" ng-model="label.name" placeholder="Label Name"/>
            </div>
            <div class='input-field col s5'>
                <select ng-controller='ColorPicker' class="browser-default" ng-model="label.color">
                    <option value='' disabled selected>Select Label Color</option>
                    <option ng-repeat="color in colors" value='{{color.hex}}' style="background-color: #{{color.hex}}">
                        {{color.name}}
                    </option>
                </select>                
            </div>
            <div class="col s2">
                <a ng-click="addLabel(label)" class="glyphicon glyphicon-plus modalBtn" popover-placement='top' popover="Click to add label" popover-trigger="mouseenter"></a>
            </div>
        </div>

    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default spaceLeft" ng-click="close()">Close</button>
        <button type="submit" class="btn btn-primary spaceRight">Add</button>
    </div>
</form>