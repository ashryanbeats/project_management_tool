<div ng-model="sprintBoard" id="board">

    <table id="boardTable" class="table table-bordered">
        <thead>
        <tr id="boardHeader">
            <th style="width:22%; text-align: left;">
                <span>Features</span>
            </th>
            <th class="addStory" style="width:3%;" ng-controller="NewFeatureController">
                <a title="Add Feature" ng-click="addNewFeature(sprintBoard)"><i
                        class="glyphicon glyphicon-plus addNewCard"></i></a>
            </th>
            <th ng-repeat="column in sprintBoard.columns" style="width:25%;">
                <div>
                    <span>{{column.name}}</span>
                </div>
            </th>
            <th class="addPhase" style="width:3%;" ng-controller="NewPhaseController">
                <a title="Add Phase" ng-click="addNewPhase(sprintBoard)"><i
                        class="glyphicon glyphicon-plus addNewCard"></i></a>
            </th>
        </tr>
        </thead>
        <tbody ng-repeat="feature in sprintBoard.features">
        <tr>
            <th class="black-text" ng-click='isCollapsed=!isCollapsed'>{{feature.name}}</th>
        </tr>
        <tr collapse='isCollapsed'>
            <th style="width:22%">
                <div class="story card sortable-item black-text">
                    <div class="row">
                        <span class="card-title black-text" ng-click="isCollapsed=!isCollapsed">{{feature.name}}</span>
                    </div>
             <!--       <div class="col-sm-2" ng-controller="EditFeatureController">
                        <a data-no-drag class="addNewCard" ng-click="editingFeature(sprintBoard, feature.name)"><span class="mdi-editor-mode-edit"></span></a>
                    </div> -->
                </div>
            </th>
            <td class="addTask">
                <a title="Add card to column" ng-click="addNewCard(sprintBoard, column, feature.name)"><i
                        class="glyphicon glyphicon-plus addNewCard"></i></a>
            </td>
            <td as-sortable="sprintSortOptions" ng-repeat="phase in feature.phases" ng-model="phase.cards">
                <div class="card black-text" ng-repeat="card in phase.cards" as-sortable-item>
                     <div as-sortable-item-handle>
                        <div class="row">
                            <div class="col-sm-10">
                                <span class="card-title black-text">{{card.title}}</span>
                            </div>
                            <div class="col-sm-2">
                                <a data-no-drag class=" removeCard pull-right btn btn-xs" ng-click="removeCard(sprintBoard, feature.name, phase.name, card)"><span class="glyphicon glyphicon-remove"></span></a>
                            </div>
                            <!-- EDIT CARD -->
                            <div class="col-sm-2" ng-controller="EditCardController">
                                <a data-no-drag class=" removeCard pull-right btn btn-xs" ng-click="editCard(sprintBoard, feature.name, phase.name, card)"><span class="mdi-editor-mode-edit"></span></a>
                            </div>
                        </div>
                    </div>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>